<html>
<title>P1.4</title>
<head>
<script language="JavaScript">
var tcol= ["red","yellow","blue"];

function genval()
{
   var tbl = document.getElementById("tblid");
   var i;
   var j;
   var tds;
  
   // parcurgerea liniilor tabelulului

   var trs = tbl.getElementsByTagName("tr");
   for (i = 0; i < trs.length; i++) {
   // parcurgerea celulelor fiecarei linii
      tds = trs[i].getElementsByTagName("td");
      for (j = 0; j < tds.length; j++) {
         tds[j].innerHTML=Math.floor(100*Math.random()); // generare aleatoare a numarului din celula
         tds[j].style.backgroundColor="white";
      }
   }
}



function selecteaza()
{
   var val = parseInt(document.getElementById("valid").value); // valoarea numerica din caseta text
   var tbl = document.getElementById("tblid"); // tabel
   var colelm = document.getElementById("colid"); // lista de culori
   var col = colelm.options[colelm.selectedIndex].value; // culoarea selectata in lista, 
                                                         // atribut value al optiunii selectate


   var i;
   var j;
   var tds;
   var tdval;
   
  // identificarea textului din celulele tabelulului
  // si colorarea celulelor care contin valori numerice 
  // mai mari decat valoarea numerica din caseta text

   var trs = tbl.getElementsByTagName("tr");
   for (i = 0; i < trs.length; i++) {
      tds = trs[i].getElementsByTagName("td");
      for (j = 0; j < tds.length; j++) {
         tdval = tds[j].innerHTML; // continutul celulei (in acest caz text)
         if (val < parseInt(tdval)) {
           tds[j].style.backgroundColor=col;
         }
      }
   }
}
function deselecteaza()
{
   var val = parseInt(document.getElementById("valid").value); // valoarea numerica din caseta text
   var tbl = document.getElementById("tblid"); // tabel
   var col = tbl.style.backgroundColor;

   var i;
   var j;
   var tds;
   var tdval;
  // identificarea textului din celulele tabelulului
  // si deselectarea celulelor care contin valori numerice 
  // mai mari decat valoarea numerica din caseta text

   var trs = tbl.getElementsByTagName("tr");
   for (i = 0; i < trs.length; i++) {
      tds = trs[i].getElementsByTagName("td");
      for (j = 0; j < tds.length; j++) {
         tdval = tds[j].innerHTML; // continutul celulei (in acest caz text)
         if (val < parseInt(tdval)) {
           tds[j].style.backgroundColor=col;
         }
      }
   }
}

</script>

</head>
<body>
<form action="" method="get">
Val &gt; : <input type="text" name="val" id="valid" value="" />
<br />
Culoare:
<select name="col" id="colid" size="1">
<option value="red" selected> ro&#351;u </option>
<option value="yellow"> galben </option>
<option value="blue"> albastru </option>
</select>
<br />
<input type="button" value="Genereaz&#259;" onclick="genval()">
<input type="button" value="Selecteaz&#259;" onclick="selecteaza()">
<input type="button" value="Deselecteaz&#259;" onclick="deselecteaza()">
</form>
<hr />
<table id="tblid" border="3">
<tr>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
</tr>
<tr>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
</tr>
<tr>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
</tr>
<tr>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
</tr>
<tr>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
<td>00</td>
</tr>
</table>
</body>
</html>
